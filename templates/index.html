<!-- <!DOCTYPE html>
<html>
<head>
    <title>Image Enhancer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="p-5 mt-4 mb-4 bg-light rounded-3">
          <h1 class="display-5 fw-bold">Image Enhancer</h1>
          <p class="fs-4">
            Transform your low-resolution images into stunning high-quality masterpieces with ease using our Flask web application. Powered by AI image upscaling technology, it effortlessly enhances the details and sharpness of your images. Elevate your visual content and impress your audience with every click.
          </p>
          <hr class="my-4">
          <form class="row g-8 col-auto" action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
            <div class="col-auto">
                <label for="image" class="form-control-plaintext">Upload Image:</label>
            </div>
            <div class="col-8">
              <input type="file" class="form-control" name="image" id="image-input" onchange="previewImage();" accept=".jpg,.jpeg,.png">
            </div>
            <div class="col-auto">
                <input type="submit" class="btn btn-primary mb-3" value="Enhance Image">
            </div>
          </form>
          <div class="row mt-5">
            <div class="col-md-6 text-center">
              <h3 class="mb-3">Original Image:</h3>
              <div id="original" class="placeholder-glow"></div>
            </div>
            <div class="col-md-6 text-center">
              <h3 class="mb-3">Enhanced Image:</h3>
              <div id="enhanced" class="placeholder-glow"></div>
              <div class="mt-3 text-center">
                <h5>Quality Metrics</h5>
                <p id="psnr-display">PSNR: -</p>
                <p id="ssim-display">SSIM: -</p>
              </div>
            </div>
          </div>
        </div>
      </div>      
    <script>
      function previewImage() {
          var original = document.getElementById('original');
          original.innerHTML = '';
          var file = document.getElementById("image-input").files[0];
          var reader = new FileReader();
          reader.onloadend = function () {
              var img = document.createElement('img');
              img.src = reader.result;
              img.classList.add('img-fluid');
              original.appendChild(img);
          };
          reader.readAsDataURL(file);
      }

      var form = document.querySelector('form');
      var enhanced = document.getElementById('enhanced');
      form.addEventListener('submit', function(event) {
          event.preventDefault();
          enhanced.innerHTML = '';
          document.getElementById('psnr-display').innerText = 'PSNR: -';
          document.getElementById('ssim-display').innerText = 'SSIM: -';

          var file = document.querySelector('input[type=file]').files[0];
          var formData = new FormData();
          formData.append('image', file);
          fetch('/upload', {
              method: 'POST',
              body: formData
          })
          .then(function(response) {
              var psnr = response.headers.get('PSNR');
              var ssim = response.headers.get('SSIM');

              document.getElementById('psnr-display').innerText = `PSNR: ${parseFloat(psnr).toFixed(2)} dB`;
              document.getElementById('ssim-display').innerText = `SSIM: ${parseFloat(ssim).toFixed(4)}`;

              return response.blob();
          })
          .then(function(blob) {
              var url = URL.createObjectURL(blob);
              var img = document.createElement('img');
              img.src = url;
              img.classList.add('img-fluid');
              enhanced.appendChild(img);
          });
      });
  </script>

</body>
</html> -->
<!DOCTYPE html>
<html>
<head>
    <title>Image Super-Resolution</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="p-5 mt-4 mb-4 bg-light rounded-3">
          <h1 class="display-6 fw-bold">Image Super-Resolution using Convolutional Neural Network</h1>
          <p class="fs-4">
             This web page is designed to visually demonstrate the final thesis project of <strong>Zahra Behzad</strong>, a Bachelor's degree student at the <strong>National University of Skills</strong> in Iran. <br>
            Completed in July 2025.
          </p>
          <hr class="my-4">
          <form class="row g-8 col-auto" action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
            <div class="col-auto">
                <label for="image" class="form-control-plaintext">Upload Image:</label>
            </div>
            <div class="col-8">
              <input type="file" class="form-control" name="image" id="image-input" onchange="previewImage();" accept=".jpg,.jpeg,.png">
            </div>
            <div class="col-auto">
                <input type="submit" class="btn btn-primary mb-3" value="Enhance Image">
            </div>
          </form>
          <div class="row mt-5">
            <div class="col-md-6 text-center">
              <h3 class="mb-3">Original Image:</h3>
              <div id="original" class="placeholder-glow"></div>
            </div>
            <div class="col-md-6 text-center">
              <h3 class="mb-3">Enhanced Image:</h3>
              <div id="enhanced" class="placeholder-glow"></div>
              <div class="mt-3 text-center">
                <h5>Quality Metrics</h5>
                <p id="psnr-display">PSNR: -</p>
                <p id="ssim-display">SSIM: -</p>
              </div>
            </div>
          </div>
        </div>
      </div>      
    <script>
        function previewImage() {
            var original = document.getElementById('original');
            original.innerHTML = '';
            var file = document.getElementById("image-input").files[0];
            var reader = new FileReader();
            reader.onloadend = function () {
                var img = document.createElement('img');
                img.src = reader.result;
                img.classList.add('img-fluid');
                original.appendChild(img);
            };
            reader.readAsDataURL(file);
        }

        var form = document.querySelector('form');
        var enhanced = document.getElementById('enhanced');
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            enhanced.innerHTML = '';
            document.getElementById('psnr-display').innerText = 'PSNR: -';
            document.getElementById('ssim-display').innerText = 'SSIM: -';

            var file = document.querySelector('input[type=file]').files[0];
            var formData = new FormData();
            formData.append('image', file);
            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(function(response) {
                var psnr = response.headers.get('PSNR');
                var ssim = response.headers.get('SSIM');

                document.getElementById('psnr-display').innerText = `PSNR: ${parseFloat(psnr).toFixed(2)} dB`;
                document.getElementById('ssim-display').innerText = `SSIM: ${parseFloat(ssim).toFixed(4)}`;

                return response.blob();
            })
            .then(function(blob) {
                var url = URL.createObjectURL(blob);
                var img = document.createElement('img');
                img.src = url;
                img.classList.add('img-fluid');
                enhanced.appendChild(img);
            });
        });
    </script>
</body>
</html>
